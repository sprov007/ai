
<!DOCTYPE html>
<html lang="en">
<head>
   
	<title>sayeemx login</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />

</head>
<body class="is-preload">
<!-- Header -->
			<header id="header">
				<h1>Welcome To SayeemX</h1>
				<p>We are dedicated provide you services with quality and gurantee.Success is our only goal.<br />
				. Brought to you by <a href="">Sayeem</a>.</p>
			</header>

<h2>Login</h2>
<form id="loginForm">
  <input type="email" id="loginEmail" placeholder="Email" required />
  <input type="password" id="loginPassword" placeholder="Password" required />
  <button type="submit">Login</button>
</form>

<script>
    // NEW: Login form JS
    document.getElementById('loginForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
  
      const response = await fetch('http://localhost:3000/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, password })
      });
  
      const result = await response.json();
  
      if (response.ok) {
        document.getElementById('loginMessage').innerText = 'Login Successful!';
        
        // Save the token to localStorage
        localStorage.setItem('token', result.token);
  
        // Optionally redirect to dashboard or show logged-in UI
        // window.location.href = '/dashboard.html';
      } else {
        document.getElementById('loginMessage').innerText = result.message;
      }
    });
  </script>

<button onclick="goToDashboard()">Go to Dashboard</button>

<script>
  async function goToDashboard() {
    const token = localStorage.getItem('token');
    if (!token) {
      alert('Please login first!');
      return;
    }

    const response = await fetch('http://localhost:3000/dashboard', {
      method: 'GET',
      headers: { 'Authorization': token }
    });

    const result = await response.json();
    alert(result.message); // or you can show it on page
  }
</script>
<script src="assets/js/main.js"></script>
</body>
</html>
